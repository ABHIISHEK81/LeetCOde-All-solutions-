//  3583. Count Special Triplets  //












class Solution(object):
    def specialTriplets(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """
        from collections import defaultdict
        MOD = 10**9 + 7

        left = defaultdict(int)
        right = defaultdict(int)

        for x in nums:
            right[x] += 1

        ans = 0

        for j, x in enumerate(nums):
            right[x] -= 1

            target = x*2

            ans = (ans + left[target] * right[target]) % MOD 
            left[x] += 1
            
        return ans % MOD       
